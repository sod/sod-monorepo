import{$ as g,Ca as T,H as p,Ha as R,I as h,Ia as L,Ja as z,K as a,Ka as q,L as r,La as G,M as E,Ma as H,N as m,Na as J,O as s,Oa as K,P as u,Pa as Q,Q as _,Qa as U,R as f,Ra as V,S as F,Sa as W,Ta as X,U as c,Ua as Y,V as y,Va as Z,W as v,Wa as tt,Y as I,Z as B,_ as d,aa as S,ba as M,da as O,ea as $,fa as k,ga as b,ha as N,ia as j,j as w,w as D,wa as A,x as C,z as x}from"./chunk-TI4PTLTC.js";function ot(t,i){if(t&1&&u(0,"app-production-overview",14),t&2){let e=c(),o=e.$implicit,n=e.index,l=c(2).ngIf;r("production",o)("productionInputs",l)("positionInList",n)}}function rt(t,i){if(t&1&&(_(0),a(1,ot,1,3,"app-production-overview",13),f()),t&2){let e=i.$implicit;p(),r("ngIf",e.hasRecipes())}}function pt(t,i){if(t&1&&u(0,"app-missing-input",16),t&2){let e=i.$implicit;r("input",e)}}function at(t,i){if(t&1&&(_(0),m(1,"h4",10),v(2,"Inputs"),s(),a(3,pt,1,1,"app-missing-input",15),f()),t&2){let e=i.ngIf;p(3),r("ngForOf",e)}}function ct(t,i){if(t&1&&(_(0),m(1,"h4"),v(2,"Machines"),s(),a(3,rt,2,1,"ng-container",12)(4,at,4,1,"ng-container",9),f()),t&2){let e=c().ngIf,o=c().ngIf,n=c();p(3),r("ngForOf",o)("ngForTrackBy",n.trackByService.index),p(),r("ngIf",n.isMissing(e))}}function mt(t,i){t&1&&u(0,"app-action-production")}function st(t,i){if(t&1&&(m(0,"div",5),a(1,ct,5,3,"ng-container",9),m(2,"div",10),u(3,"app-action-add-production",11),a(4,mt,1,0,"app-action-production",9),s()()),t&2){let e=c().ngIf;p(),r("ngIf",e.length),p(3),r("ngIf",e.length)}}function dt(t,i){if(t&1&&(_(0),u(1,"app-modal",17),f()),t&2){c();let e=y(11),o=c();p(),r("active$",o.edit$)("content",e)}}function lt(t,i){t&1&&F(0)}var ut=t=>({$implicit:t});function _t(t,i){if(t&1&&(m(0,"div",19),a(1,lt,1,0,"ng-container",20),s()),t&2){let e=i.ngIf;c(2);let o=y(11);E("show",e.enter&&!e.leave),p(),r("ngTemplateOutlet",o)("ngTemplateOutletContext",B(4,ut,e.value))}}var ft=()=>({strategy:"truthy"});function gt(t,i){if(t&1&&(_(0),a(1,_t,2,6,"div",18),d(2,"ngrxPush"),d(3,"sodAnimate"),f()),t&2){let e=c(2);p(),r("ngIf",g(2,1,S(3,3,e.edit$,I(6,ft))))}}function vt(t,i){if(t&1&&u(0,"app-production",21),t&2){let e=i.$implicit;r("production",e)}}var Ct=()=>[];function xt(t,i){if(t&1&&(m(0,"div",3),a(1,st,5,2,"div",4),d(2,"resolveProduction"),d(3,"ngrxPush"),m(4,"div",5),_(5,6),d(6,"ngrxPush"),d(7,"modalOrInline"),a(8,dt,2,2,"ng-container",7)(9,gt,4,7,"ng-container",7),f(),a(10,vt,1,1,"ng-template",null,8,M),s()()),t&2){let e=i.ngIf,o=c(),n;p(),r("ngIf",S(2,4,e,(n=g(3,7,o.inputCovered$))!==null&&n!==void 0?n:I(13,Ct))),p(4),r("ngSwitch",g(6,9,g(7,11,o.breakpoint.md))),p(3),r("ngSwitchCase","modal"),p(),r("ngSwitchCase","inline")}}var P=(()=>{let i=class i{constructor(o,n){this.store=o,this.trackByService=n,this.breakpoint={md:768},this.productions$=this.store.select(G).pipe(w(l=>z(l.filter(nt=>nt.hasRecipes()),"built"))),this.inputCovered$=this.store.select(H),this.edit$=this.store.select(J)}isMissing(o){let n=o.array.filter(l=>l.isMissing());return n.length?n:void 0}};i.\u0275fac=function(n){return new(n||i)(h(A),h(V))},i.\u0275cmp=D({type:i,selectors:[["app-default"]],decls:6,vars:3,consts:[[1,"my-3"],[1,"text-muted"],["class","row my-4",4,"ngIf"],[1,"row","my-4"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[3,"ngSwitch"],[4,"ngSwitchCase"],["content",""],[4,"ngIf"],[1,"mt-5"],[1,"mb-4","d-block"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","mb-3 d-block",3,"production","productionInputs","positionInList",4,"ngIf"],[1,"mb-3","d-block",3,"production","productionInputs","positionInList"],[3,"input",4,"ngFor","ngForOf"],[3,"input"],[3,"active$","content"],["class","sod-animate--fade",3,"show",4,"ngIf"],[1,"sod-animate--fade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"production","d-block",3,"production"]],template:function(n,l){n&1&&(m(0,"h1",0),v(1,"Satisfactory Production Planner"),s(),m(2,"div",1),v(3,'All input & output values are normalized to "N units/m\xB3 per 60 seconds"'),s(),a(4,xt,12,14,"div",2),d(5,"ngrxPush")),n&2&&(p(4),r("ngIf",g(5,1,l.productions$)))},dependencies:[O,$,N,k,b,L,X,W,U,K,Q,R,q,Z,Y],styles:[".production[_ngcontent-%COMP%]{position:sticky;top:1rem}"]});let t=i;return t})();var ht=[{path:"id/:id",component:P},{path:"",component:P}],et=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=C({type:i}),i.\u0275inj=x({imports:[T.forChild(ht),T]});let t=i;return t})();var Kt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=C({type:i}),i.\u0275inj=x({imports:[j,et,tt]});let t=i;return t})();export{Kt as PlannerModule};
