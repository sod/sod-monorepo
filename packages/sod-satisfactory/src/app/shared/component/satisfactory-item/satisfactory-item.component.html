<app-satisfactory-item-image
    [attr.data-tooltip]="hideItemNames() ? itemPackage.itemName : null"
    [heightPercent]="70"
    [itemPackage]="itemPackage"
></app-satisfactory-item-image>

@if ({input: productionInputs?.get(itemPackage.itemName)}; as state) {
    <div class="text-center mt-2">
        @switch (state.input?.isMissing()) {
            @case ('yes') {
                <span class="text-warning">
                    <i class="bi bi-x-circle"></i>
                    {{ itemPackage | amountWithModifiers: target }}
                </span>
            }
            @case ('covered') {
                <span class="text-success">
                    <i class="bi bi-check2-circle"></i>
                    {{ itemPackage | amountWithModifiers: target }}
                </span>
            }
            @default {
                <span>
                    {{ itemPackage | amountWithModifiers: target }}
                </span>
            }
        }
    </div>
}

@if (theme === 'name-inline' && !hideItemNames()) {
    <div class="text-center text-muted">{{ itemPackage.itemName }}</div>
}
